{
   "context":{
      "groupId":"io.vlingo.xoom.examples",
      "artifactId":"xoom-petclinic",
      "artifactVersion":"1.0.0",
      "packageName":"io.vlingo.xoom.examples.petclinic",
      "xoomVersion":""
   },
   "model":{
      "aggregateSettings":[
         {
            "aggregateIndex":0,
            "aggregateName":"AnimalType",
            "stateFields":[
               {
                  "name":"id",
                  "type":"String"
               },
               {
                  "name":"name",
                  "type":"String"
               }
            ],
            "events":[
               {
                  "name":"AnimalTypeTreatmentOffered",
                  "fields":[
                     "id",
                     "name"
                  ]
               },
               {
                  "name":"AnimalTypeRenamed",
                  "fields":[
                     "id",
                     "name"
                  ]
               }
            ],
            "methods":[
               {
                  "name":"offerTreatmentFor",
                  "useFactory":true,
                  "parameters":[
                     "name"
                  ],
                  "event":"AnimalTypeTreatmentOffered"
               },
               {
                  "name":"rename",
                  "useFactory":false,
                  "parameters":[
                     "name"
                  ],
                  "event":"AnimalTypeRenamed"
               }
            ],
            "api":{
               "rootPath":"/animalTypes",
               "routes":[
                  {
                     "path":"/",
                     "httpMethod":"POST",
                     "aggregateMethod":"offerTreatmentFor",
                     "requireEntityLoad":false
                  },
                  {
                     "path":"/{id}",
                     "httpMethod":"PUT",
                     "aggregateMethod":"rename",
                     "requireEntityLoad":true
                  }
               ]
            },
            "producerExchange":{
               "exchangeName":"",
               "schemaGroup":"",
               "outgoingEvents":[

               ]
            },
            "consumerExchange":{
               "exchangeName":"",
               "receivers":[

               ]
            }
         },
         {
            "aggregateIndex":1,
            "aggregateName":"Client",
            "stateFields":[
               {
                  "name":"id",
                  "type":"String"
               },
               {
                  "name":"name",
                  "type":"Fullname"
               },
               {
                  "name":"contact",
                  "type":"ContactInformation"
               }
            ],
            "events":[
               {
                  "name":"ClientRegistered",
                  "fields":[
                     "id",
                     "name",
                     "contact"
                  ]
               },
               {
                  "name":"ClientNameChanged",
                  "fields":[
                     "id",
                     "name"
                  ]
               },
               {
                  "name":"ClientContactInformation",
                  "fields":[
                     "id",
                     "contact"
                  ]
               }
            ],
            "methods":[
               {
                  "name":"register",
                  "useFactory":true,
                  "parameters":[
                     "name",
                     "contact"
                  ],
                  "event":"ClientRegistered"
               },
               {
                  "name":"changeName",
                  "useFactory":false,
                  "parameters":[
                     "name"
                  ],
                  "event":"ClientNameChanged"
               },
               {
                  "name":"contact",
                  "useFactory":false,
                  "parameters":[
                     "contact"
                  ],
                  "event":"ClientContactInformation"
               }
            ],
            "api":{
               "rootPath":"/clients",
               "routes":[
                  {
                     "path":"/",
                     "httpMethod":"POST",
                     "aggregateMethod":"register",
                     "requireEntityLoad":false
                  },
                  {
                     "path":"/{id}/name",
                     "httpMethod":"PUT",
                     "aggregateMethod":"changeName",
                     "requireEntityLoad":true
                  },
                  {
                     "path":"/{id}/contact",
                     "httpMethod":"PUT",
                     "aggregateMethod":"contact",
                     "requireEntityLoad":true
                  }
               ]
            },
            "producerExchange":{
               "exchangeName":"",
               "schemaGroup":"",
               "outgoingEvents":[

               ]
            },
            "consumerExchange":{
               "exchangeName":"",
               "receivers":[

               ]
            }
         },
         {
            "aggregateIndex":2,
            "aggregateName":"SpecialtyType",
            "stateFields":[
               {
                  "name":"id",
                  "type":"String"
               },
               {
                  "name":"name",
                  "type":"String"
               }
            ],
            "events":[
               {
                  "name":"SpecialtyTypeOffered",
                  "fields":[
                     "id",
                     "name"
                  ]
               },
               {
                  "name":"SpecialtyTypeRenamed",
                  "fields":[
                     "id",
                     "name"
                  ]
               }
            ],
            "methods":[
               {
                  "name":"offer",
                  "useFactory":true,
                  "parameters":[
                     "name"
                  ],
                  "event":"SpecialtyTypeOffered"
               },
               {
                  "name":"rename",
                  "useFactory":false,
                  "parameters":[
                     "name"
                  ],
                  "event":"SpecialtyTypeRenamed"
               }
            ],
            "api":{
               "rootPath":"/specialties",
               "routes":[
                  {
                     "path":"/",
                     "httpMethod":"POST",
                     "aggregateMethod":"offer",
                     "requireEntityLoad":false
                  },
                  {
                     "path":"/{id}",
                     "httpMethod":"PUT",
                     "aggregateMethod":"rename",
                     "requireEntityLoad":true
                  }
               ]
            },
            "producerExchange":{
               "exchangeName":"",
               "schemaGroup":"",
               "outgoingEvents":[

               ]
            },
            "consumerExchange":{
               "exchangeName":"",
               "receivers":[

               ]
            }
         },
         {
            "aggregateIndex":3,
            "aggregateName":"Pet",
            "stateFields":[
               {
                  "name":"id",
                  "type":"String"
               },
               {
                  "name":"name",
                  "type":"Name"
               },
               {
                  "name":"birth",
                  "type":"long"
               },
               {
                  "name":"death",
                  "type":"long"
               },
               {
                  "name":"kind",
                  "type":"Kind"
               },
               {
                  "name":"owner",
                  "type":"Owner"
               }
            ],
            "events":[
               {
                  "name":"PetRegistered",
                  "fields":[
                     "id",
                     "name",
                     "birth",
                     "kind",
                     "owner"
                  ]
               },
               {
                  "name":"PetNameChanged",
                  "fields":[
                     "id",
                     "name"
                  ]
               },
               {
                  "name":"PetBirthRecorded",
                  "fields":[
                     "id",
                     "birth"
                  ]
               },
               {
                  "name":"PetDeathRecorded",
                  "fields":[
                     "id",
                     "death"
                  ]
               },
               {
                  "name":"PetKindCorrected",
                  "fields":[
                     "id",
                     "kind"
                  ]
               },
               {
                  "name":"PetOwnerChanged",
                  "fields":[
                     "id",
                     "owner"
                  ]
               }
            ],
            "methods":[
               {
                  "name":"register",
                  "useFactory":true,
                  "parameters":[
                     "name",
                     "birth",
                     "kind",
                     "owner"
                  ],
                  "event":"PetRegistered"
               },
               {
                  "name":"changeName",
                  "useFactory":false,
                  "parameters":[
                     "name"
                  ],
                  "event":"PetNameChanged"
               },
               {
                  "name":"recordBirth",
                  "useFactory":false,
                  "parameters":[
                     "birth"
                  ],
                  "event":"PetBirthRecorded"
               },
               {
                  "name":"recordDeath",
                  "useFactory":false,
                  "parameters":[
                     "death"
                  ],
                  "event":"PetDeathRecorded"
               },
               {
                  "name":"correctKind",
                  "useFactory":false,
                  "parameters":[
                     "kind"
                  ],
                  "event":"PetKindCorrected"
               },
               {
                  "name":"changeOwner",
                  "useFactory":false,
                  "parameters":[
                     "owner"
                  ],
                  "event":"PetOwnerChanged"
               }
            ],
            "api":{
               "rootPath":"/pets",
               "routes":[
                  {
                     "path":"/",
                     "httpMethod":"POST",
                     "aggregateMethod":"register",
                     "requireEntityLoad":false
                  },
                  {
                     "path":"/{id}/name",
                     "httpMethod":"PATCH",
                     "aggregateMethod":"changeName",
                     "requireEntityLoad":true
                  },
                  {
                     "path":"/{id}/birth",
                     "httpMethod":"PATCH",
                     "aggregateMethod":"recordBirth",
                     "requireEntityLoad":true
                  },
                  {
                     "path":"/{id}/death",
                     "httpMethod":"PATCH",
                     "aggregateMethod":"recordDeath",
                     "requireEntityLoad":true
                  },
                  {
                     "path":"/{id}/kind",
                     "httpMethod":"PATCH",
                     "aggregateMethod":"correctKind",
                     "requireEntityLoad":true
                  },
                  {
                     "path":"/{id}/owner",
                     "httpMethod":"PATCH",
                     "aggregateMethod":"changeOwner",
                     "requireEntityLoad":true
                  }
               ]
            },
            "producerExchange":{
               "exchangeName":"",
               "schemaGroup":"",
               "outgoingEvents":[

               ]
            },
            "consumerExchange":{
               "exchangeName":"",
               "receivers":[

               ]
            }
         },
         {
            "aggregateIndex":4,
            "aggregateName":"Veterinarian",
            "stateFields":[
               {
                  "name":"id",
                  "type":"String"
               },
               {
                  "name":"name",
                  "type":"Fullname"
               },
               {
                  "name":"contact",
                  "type":"ContactInformation"
               },
               {
                  "name":"specialty",
                  "type":"Specialty"
               }
            ],
            "events":[
               {
                  "name":"VeterinarianRegistered",
                  "fields":[
                     "id",
                     "name",
                     "contact",
                     "specialty"
                  ]
               },
               {
                  "name":"VeterinarianNameChanged",
                  "fields":[
                     "id",
                     "name"
                  ]
               },
               {
                  "name":"VeterinarianContactInformationChanged",
                  "fields":[
                     "id",
                     "contact"
                  ]
               },
               {
                  "name":"VeterinarianSpecialtyChosen",
                  "fields":[
                     "id",
                     "specialty"
                  ]
               }
            ],
            "methods":[
               {
                  "name":"register",
                  "useFactory":true,
                  "parameters":[
                     "name",
                     "contact",
                     "specialty"
                  ],
                  "event":"VeterinarianRegistered"
               },
               {
                  "name":"changeName",
                  "useFactory":false,
                  "parameters":[
                     "name"
                  ],
                  "event":"VeterinarianNameChanged"
               },
               {
                  "name":"changeContactInformation",
                  "useFactory":false,
                  "parameters":[
                     "contact"
                  ],
                  "event":"VeterinarianContactInformationChanged"
               },
               {
                  "name":"specializesIn",
                  "useFactory":false,
                  "parameters":[
                     "specialty"
                  ],
                  "event":"VeterinarianSpecialtyChosen"
               }
            ],
            "api":{
               "rootPath":"/veterinarians",
               "routes":[
                  {
                     "path":"/",
                     "httpMethod":"POST",
                     "aggregateMethod":"register",
                     "requireEntityLoad":false
                  },
                  {
                     "path":"/{id}/name",
                     "httpMethod":"PATCH",
                     "aggregateMethod":"changeName",
                     "requireEntityLoad":true
                  },
                  {
                     "path":"/{id}/contact",
                     "httpMethod":"PATCH",
                     "aggregateMethod":"changeContactInformation",
                     "requireEntityLoad":true
                  },
                  {
                     "path":"/{id}/specialty",
                     "httpMethod":"PATCH",
                     "aggregateMethod":"specializesIn",
                     "requireEntityLoad":true
                  }
               ]
            },
            "producerExchange":{
               "exchangeName":"",
               "schemaGroup":"",
               "outgoingEvents":[

               ]
            },
            "consumerExchange":{
               "exchangeName":"",
               "receivers":[

               ]
            }
         }
      ],
      "persistenceSettings":{
         "storageType":"STATE_STORE",
         "useCQRS":true,
         "projections":"EVENT_BASED",
         "database":"IN_MEMORY",
         "commandModelDatabase":"IN_MEMORY",
         "queryModelDatabase":"IN_MEMORY"
      },
      "valueObjectSettings":[
         {
            "name":"Fullname",
            "fields":[
               {
                  "name":"fisrt",
                  "type":"String"
               },
               {
                  "name":"last",
                  "type":"String"
               }
            ]
         },
         {
            "name":"PostalAddress",
            "fields":[
               {
                  "name":"streetAddress",
                  "type":"String"
               },
               {
                  "name":"city",
                  "type":"String"
               },
               {
                  "name":"stateProvince",
                  "type":"String"
               },
               {
                  "name":"postalCode",
                  "type":"int"
               }
            ]
         },
         {
            "name":"Telephone",
            "fields":[
               {
                  "name":"number",
                  "type":"String"
               }
            ]
         },
         {
            "name":"ContactInformation",
            "fields":[
               {
                  "name":"postalAddress",
                  "type":"PostalAddress"
               },
               {
                  "name":"telephone",
                  "type":"Telephone"
               }
            ]
         },
         {
            "name":"Name",
            "fields":[
               {
                  "name":"value",
                  "type":"String"
               }
            ]
         },
         {
            "name":"Kind",
            "fields":[
               {
                  "name":"animalTypeId",
                  "type":"String"
               }
            ]
         },
         {
            "name":"Owner",
            "fields":[
               {
                  "name":"clientId",
                  "type":"String"
               }
            ]
         },
         {
            "name":"Visit",
            "fields":[
               {
                  "name":"start",
                  "type":"long"
               },
               {
                  "name":"end",
                  "type":"long"
               },
               {
                  "name":"description",
                  "type":"String"
               }
            ]
         },
         {
            "name":"Specialty",
            "fields":[
               {
                  "name":"specialtyTypeId",
                  "type":"String"
               }
            ]
         }
      ]
   },
   "deployment":{
      "clusterNodes":3,
      "type":"NONE",
      "dockerImage":"",
      "kubernetesImage":"",
      "kubernetesPod":""
   },
   "projectDirectory":"/projects/",
   "useAnnotations":false,
   "useAutoDispatch":false
}
